(this.webpackJsonpcyclog=this.webpackJsonpcyclog||[]).push([[0],{162:function(e,t){},167:function(e,t){},227:function(e,t,n){e.exports=n(632)},232:function(e,t,n){},236:function(e,t,n){},630:function(e,t){},632:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n.n(a),r=n(199),c=n.n(r),i=(n(232),n(200)),l=n(104),u=n(105),s=n(146),m=n(647),f=(n(235),n(236),"pk.eyJ1IjoibmF0aGFua2lwcCIsImEiOiJjazNid2k3enIwN2QzM2Nucmp5b3NmaXY0In0.cMIErB8-bLVio-MGSeXlfg"),p={latitude:36,longitude:-97,zoom:3.25,transitionDuration:"auto",transitionInterpolator:new s.a},d="My New Ride",b=n(120),g=n.n(b);g.a.config.region="us-east-2",g.a.config.credentials=new g.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4"});var v=new g.a.DynamoDB.DocumentClient;var O=n(648);function h(e){return new O.a({id:e.name,data:[{path:e.path}],getColor:function(){return e.color},rounded:!0,widthMinPixels:2})}var w=function(e){var t=e.rides,n=e.selectRide,r=Object(a.useState)(),c=Object(u.a)(r,2),i=c[0],l=c[1];return o.a.createElement("div",{class:"RideList"},o.a.createElement("div",null,"My Rides"),!t.length&&o.a.createElement("div",null,"Loading..."),t.concat({name:"Show All",viewport:{}}).map((function(e,t){return o.a.createElement("div",{key:e.name,className:t===i?"selected":""},o.a.createElement("a",{onClick:function(){l(t),n(e)}},e.name))})))},y=" ".concat(String.fromCharCode(183)," "),j=function(e){var t=e.viewport,n=e.path,a=e.setPath;return o.a.createElement("div",{className:"Controls"},o.a.createElement("b",null,"Recording..."),o.a.createElement("a",{onClick:function(){return a(n.slice(0,-1))}},"undo"),y,o.a.createElement("a",{onClick:function(){window.confirm("are you sure?")&&a([])}},"reset"),y,o.a.createElement("a",{onClick:function(){var e={name:"foo",path:n,viewport:{latitude:t.latitude,longitude:t.longitude,zoom:t.zoom}};console.log(JSON.stringify(e,"",2)),alert("open the console to see your data")}},"done"))};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){return e?[221,0,0]:[0,0,0]},k=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),b=i[0],g=i[1],O=Object(a.useState)(p),y=Object(u.a)(O,2),E=y[0],k=y[1];Object(a.useEffect)((function(){new Promise((function(e,t){v.scan({TableName:"cyclog"},(function(n,a){n&&t("paths cannot be retrieved"),e(a.Items)}))})).then((function(e){r(Object(l.a)(e))}))}),[]),Object(a.useEffect)((function(){var e=function(e,t,n){var a=Object(l.a)(t);if(e.length){var o={name:d,path:e,viewport:n};t[t.length-1].name!==d?a.push(o):a=a.slice(0,-1).concat(o)}else a.pop();return a}(b,n,E);r(e)}),[b]);var I=!!b.length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,{rides:n,selectRide:function(e){var t=n.map((function(t){return C({},t,{color:P(t.name===e.name)})}));r(t),k(C({},p,{},e.viewport))}}),I&&o.a.createElement(j,{viewport:E,path:b,setPath:g}),o.a.createElement(s.b,Object.assign({},E,{onClick:function(e){g([].concat(Object(l.a)(b),[e.lngLat])),k(C({},E,{longitude:e.lngLat[0],latitude:e.lngLat[1]}))},onViewportChange:k,mapboxApiAccessToken:f,mapStyle:"mapbox://styles/mapbox/outdoors-v11",height:"100vh",width:"80vw"}),o.a.createElement(m.a,{viewState:E,layers:Object(l.a)(n.map(h))})))};c.a.render(o.a.createElement(k,null),document.getElementById("root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.48010b10.chunk.js.map