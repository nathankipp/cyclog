(this.webpackJsonpcyclog=this.webpackJsonpcyclog||[]).push([[0],{124:function(e,t,n){e.exports=n.p+"static/media/nathan.ee2493ef.png"},125:function(e,t,n){e.exports=n.p+"static/media/sarah.24ca4f60.jpeg"},126:function(e,t,n){e.exports=n.p+"static/media/jesse.a82637d5.jpeg"},211:function(e,t){},216:function(e,t){},263:function(e,t,n){e.exports=n.p+"static/media/directions_bike_24px.64beea8c.svg"},314:function(e,t,n){e.exports=n(722)},319:function(e,t,n){},718:function(e,t){},722:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(33),o=n.n(i),c=(n(319),n(46)),l=n(77),s=n(258),u=n(259),d=n(278),p=n(260),m=n(279),f=n(261),g=n.n(f),b=(n(322),n(193)),h=[],O="pk.eyJ1IjoibmF0aGFua2lwcCIsImEiOiJjazNid2k3enIwN2QzM2Nucmp5b3NmaXY0In0.cMIErB8-bLVio-MGSeXlfg",v="NEW_ID",y={latitude:39,longitude:-97,zoom:3.25,transitionDuration:"auto",transitionInterpolator:new b.a},w={black:[0,0,0],red:[150,50,50],green:[50,150,50],blue:[50,50,150]},j=n(156),E=n.n(j);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}E.a.config.region="us-east-2",E.a.config.credentials=new E.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4"});var D=new E.a.DynamoDB.DocumentClient,S="cyclog";function C(){return new Promise((function(e,t){D.scan({TableName:S},(function(n,r){n?t("ride list cannot be retrieved"):e(r.Items.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{color:w.black})})))}))}))}var R=n(797),k=n(798),N=n(263),x=n.n(N);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){return new R.a({id:e.name,data:[{coordinates:e.path}],iconAtlas:x.a,iconMapping:{rider:{x:0,y:0,width:24,height:24,mask:!0}},getIcon:function(){return"rider"},getColor:function(){return e.color},getPosition:function(e){return e.coordinates},sizeMinPixels:28})}function B(e){var t,n=[(t=e,new k.a({id:t.id,data:[{path:t.path}],getColor:function(){return t.color},rounded:!0,widthMinPixels:2}))];if(e.isSelected){var r=F({},e,{name:"".concat(e.name,"-start"),color:w.green,path:e.path[0]});if(n.push(z(r)),e.path.length>1){var a=F({},e,{name:"".concat(e.name,"-end"),color:w.red,path:e.path[e.path.length-1]});n.push(z(a))}}return n}var L=n(27),H=n(276);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){return e.id!==v};function U(e){if(!e)return[];var t=[];return t.push(M({},e,{name:"".concat(e.name,"-start"),color:w.green,path:e.path[0]})),e.path.length>1&&t.push(M({},e,{name:"".concat(e.name,"-end"),color:w.red,path:e.path[e.path.length-1]})),t}var V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){var n=e.id===t.id;return M({},e,{isSelected:n,riders:e.riders||"",icons:n?U(e):[],color:n?w.blue:w.black,milage:e.path.length>1?Object(H.a)(Object(L.e)(e.path),{units:"miles"}):0})}))},$=function(e,t){var n=[];return e.length&&(n=[{id:v,name:"\u2022 New ride \u2022",color:w.blue,path:e,viewport:t}]),n},A=function(e){var t=e.longitude,n=e.latitude,r=e.zoom;return M({},y,{longitude:t,latitude:n,zoom:r})},G=function(){return window.location.hash},J={getRidersFromUrl:function(){var e=G().match(/#\/([\w,]*)\//);return e&&e[1]&&e[1].split(",")},getSelectedRideFromUrl:function(e){return e.find((function(e){return G().match(new RegExp("/".concat(e.id,"$")))}))},updateRidersHash:function(e){return window.location.hash=G().replace(/\/[\w,]*\//,"/".concat(e.join(","),"/"))},updateRideHash:function(e){return window.location.hash=G().replace(/\/[\w\d-]*$/,"/".concat(e.id))}},X=n(793),_=n(12),K=n(268);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=Object(K.a)((function(e){return{drawerHeader:Y({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"space-between"}),content:{position:"relative",flexGrow:1,height:"100vh",padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},mainContent:{position:"absolute",top:0,right:0,bottom:0,left:0}}}));var Z=function(e){var t=e.isDrawerOpen,n=e.children,r=q();return a.a.createElement("main",{className:Object(_.a)(r.content,Object(c.a)({},r.contentShift,t))},a.a.createElement("div",{className:r.drawerHeader}),a.a.createElement("div",{className:r.mainContent},n))},ee=n(774),te=n(776),ne=n(777),re=n(801),ae=n(140),ie=n(270),oe=n.n(ie),ce=n(124),le=n.n(ce),se=n(125),ue=n.n(se),de=n(126),pe=n.n(de),me=Object(K.a)((function(e){return{appBar:{backgroundColor:"#323296",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(300,"px)"),marginLeft:300,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},avatars:{display:"flex",alignItems:"flex-end",position:"absolute",right:e.spacing(2)},avatar:{cursor:"pointer",marginRight:e.spacing(2)},inactive:{opacity:.25},menuButton:{marginRight:e.spacing(2)}}}));var fe=a.a.memo((function(e){var t=e.isDrawerOpen,n=e.toggleDrawer,r=e.riders,i=e.addRider,o=e.removeRider,l=me();return a.a.createElement(ee.a,{position:"fixed",className:Object(_.a)(l.appBar,Object(c.a)({},l.appBarShift,t))},a.a.createElement(te.a,null,a.a.createElement(ne.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return n(!0)},edge:"start",className:Object(_.a)(l.menuButton,t&&l.hide)},a.a.createElement(oe.a,null)),a.a.createElement(ae.a,{variant:"h6",noWrap:!0},"Sibling Cyclog"),a.a.createElement("div",{className:l.avatars},[le.a,ue.a,pe.a].map((function(e){var t=e.replace(/^.*\/(\w+)..*$/,"$1"),n=!r.includes(t);return a.a.createElement(re.a,{key:t,className:Object(_.a)(l.avatar,n&&l.inactive),src:e,onClick:function(){n?i(t):o(t)}})})))))})),ge=n(800),be=n(778),he=n(271),Oe=n.n(he);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=Object(K.a)((function(e){return{drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:ye({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"space-between"})}}));var je=a.a.memo((function(e){var t=e.isDrawerOpen,n=e.toggleDrawer,r=e.children,i=we();return a.a.createElement(ge.a,{className:i.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:i.drawerPaper}},a.a.createElement("div",{className:i.drawerHeader},a.a.createElement(ae.a,{variant:"h6",noWrap:!0},"Rides"),a.a.createElement(ne.a,{onClick:function(){return n(!1)}},a.a.createElement(Oe.a,null))),a.a.createElement(be.a,null),r)})),Ee=n(779),Pe=n(780),De=n(781),Se=n(795),Ce=n(273),Re=n.n(Ce),ke=n(190),Ne=n.n(ke),xe=n(272),Ie=n.n(xe),Fe=n(782),ze=Object(K.a)((function(e){return{loadingRides:{padding:e.spacing(0,2)},bikeIcon:{minWidth:40},avatarGroup:{flexDirection:"column",marginTop:8,marginRight:8},avatar:{borderWidth:1,margin:"-6px 0 0 0",height:e.spacing(3),width:e.spacing(3)},rideName:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",paddingRight:40},actionIcons:{position:"absolute",right:8},actionIconButton:{marginLeft:8,padding:8}}})),Be=function(e){switch(e){case"sarah":return ue.a;case"jesse":return pe.a;case"nathan":return le.a;default:return}};var Le=a.a.memo((function(e){var t=e.rides,n=(e.riders,e.selectRide),r=e.toggleSaveDialog,i=e.toggleDeleteConfirm,o=(e.children,ze());return a.a.createElement(Ee.a,null,!t.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Pe.a,null,a.a.createElement(De.a,{primary:"Loading..."})),a.a.createElement("div",{className:o.loadingRides},a.a.createElement(Fe.a,null))),t.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){var t=e.id,c=e.name,l=e.isSelected,s=e.milage,u=e.date,d=t===v,p=l&&!d,m=u?[u]:[];return m.push("".concat(s.toFixed(1),"mi")),m=m.join(" \u2022 "),a.a.createElement(Pe.a,{button:!0,key:c.concat(t),onClick:function(){return function(e){return n(e)}(e)},selected:l,disableTouchRipple:l},a.a.createElement(Se.a,{className:o.avatarGroup},e.riders.split(",").map((function(e){return a.a.createElement(re.a,{key:e,className:o.avatar,src:Be(e)})}))),a.a.createElement(De.a,{className:o.rideName,primary:e.name,secondary:m}),d&&a.a.createElement(ne.a,{size:"small",className:o.actionIcons,disabled:!0},a.a.createElement(Ie.a,{fontSize:"small"})),p&&a.a.createElement("div",{className:o.actionIcons},a.a.createElement(ne.a,{className:o.actionIconButton,size:"small",onClick:function(e){e.stopPropagation(),r(!0)}},a.a.createElement(Re.a,{fontSize:"small"})),a.a.createElement(ne.a,{className:o.actionIconButton,size:"small",onClick:function(e){e.stopPropagation(),i(!0)}},a.a.createElement(Ne.a,{fontSize:"small"}))))})))})),He=n(796);function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Me=function(e){var t=e.viewport,n=e.setViewport,r=e.path,i=e.setPath,o=e.layers;return a.a.createElement(b.b,Object.assign({},t,{onClick:function(e){i([].concat(Object(l.a)(r),[e.lngLat])),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{longitude:e.lngLat[0],latitude:e.lngLat[1]}))},onViewportChange:n,mapboxApiAccessToken:O,mapStyle:"mapbox://styles/mapbox/outdoors-v11",height:"100%",width:"100%"}),a.a.createElement(He.a,{viewState:t,layers:o}))},Te=n(784),Ue=n(785),Ve=n(274),$e=n.n(Ve),Ae=n(275),Ge=n.n(Ae),Je=Object(K.a)((function(e){return{card:{position:"absolute",bottom:e.spacing(3),right:"50%",transform:"translateX(50%)",width:200},cardContent:{display:"flex",justifyContent:"space-around",padding:e.spacing(1),"&:last-child":{paddingBottom:e.spacing(1)}},undo:{color:"#323296"},save:{color:"#329632"},delete:{color:"#963232"}}}));var Xe=a.a.memo((function(e){var t=e.undoPath,n=e.toggleSaveDialog,r=e.toggleDeleteConfirm,i=Je();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Te.a,{className:i.card},a.a.createElement(Ue.a,{className:i.cardContent},a.a.createElement(ne.a,{"aria-label":"undo",className:i.undo,onClick:function(){return t()}},a.a.createElement($e.a,null)),a.a.createElement(ne.a,{"aria-label":"save",className:i.save,onClick:function(){return n(!0)}},a.a.createElement(Ge.a,null)),a.a.createElement(ne.a,{"aria-label":"trash",className:i.delete,onClick:function(){return r(!0)}},a.a.createElement(Ne.a,null)))))})),_e=n(159),Ke=n(791),Qe=n(794),Ye=n(786),qe=n(790),Ze=n(788),et=n(789),tt=n(787),nt=n(792);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var at=Object(K.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},avatars:{display:"flex",justifyContent:"space-evenly"},avatar:{cursor:"pointer",margin:e.spacing(2)},inactive:{opacity:.25},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),it=function(e){return e&&e.split(",")||[]};var ot=a.a.memo((function(e){var t=e.open,n=e.toggle,i=e.ride,o=e.saveRide,s=Object(r.useState)(i.name||""),u=Object(_e.a)(s,2),d=u[0],p=u[1],m=Object(r.useState)(it(i.riders)),f=Object(_e.a)(m,2),g=f[0],b=f[1],h=Object(r.useState)(i.date||""),O=Object(_e.a)(h,2),v=O[0],y=O[1],w=Object(r.useState)(!1),j=Object(_e.a)(w,2),E=j[0],P=j[1],D=at();Object(r.useEffect)((function(){b(it(i.riders)),p(i.name),y(i.date)}),[i]);var S=function(){return n(!1)},C={name:i.id?"Update this ride":"Save your ride"};return a.a.createElement(Ye.a,{open:t,onClose:S,"aria-labelledby":"form-dialog-title"},a.a.createElement(tt.a,{id:"form-dialog-title",style:{minWidth:300}},"Ride Details"),a.a.createElement(Ze.a,null,a.a.createElement(et.a,null,C.name),a.a.createElement("div",{className:D.avatars},[le.a,ue.a,pe.a].map((function(e){var t=e.replace(/^.*\/(\w+)..*$/,"$1"),n=!g.includes(t);return a.a.createElement(re.a,{key:t,className:Object(_.a)(D.avatar,n&&D.inactive),src:e,onClick:function(){n?function(e){b([].concat(Object(l.a)(g),[e]))}(t):function(e){b(g.filter((function(t){return t!==e})))}(t)}})}))),a.a.createElement(Qe.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,onChange:function(e){var t=e.target.value;return p(t)},value:d}),a.a.createElement(Qe.a,{margin:"dense",id:"date",label:"Date",type:"text",fullWidth:!0,onChange:function(e){var t=e.target.value;return y(t)},value:v})),a.a.createElement(qe.a,null,a.a.createElement(Ke.a,{variant:"contained",color:"primary",onClick:S,disabled:E},"Cancel"),a.a.createElement("div",{className:D.wrapper},a.a.createElement(Ke.a,{variant:"contained",color:"primary",onClick:function(){P(!0);var e=g.sort((function(e,t){return e[1].localeCompare(t[1])})).join(",")||void 0;o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{riders:e,name:d,date:v})).finally((function(){P(!1)}))},disabled:E},"Save"),E&&a.a.createElement(nt.a,{className:D.buttonProgress,size:24}))))}));var ct=a.a.memo((function(e){var t=e.open,n=e.toggle,r=e.deleteFn,i=function(){n(!1)};return a.a.createElement(Ye.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(tt.a,{id:"alert-dialog-title"},"Are you sure?"),a.a.createElement(Ze.a,null,a.a.createElement(et.a,{id:"alert-dialog-description"},"Deleting a ride is permanent and irreversible.")),a.a.createElement(qe.a,null,a.a.createElement(Ke.a,{onClick:i,variant:"contained",color:"primary"},"Keep my Ride"),a.a.createElement(Ke.a,{onClick:function(){r().then(i)},variant:"contained",color:"secondary"},"Delete Forever")))}));function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var st=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={rides:[],riders:J.getRidersFromUrl()||h,selectedRide:{},path:[],viewport:y,isDrawerOpen:!0,isSaveDialogOpen:!1,isDeleteConfirmOpen:!1,deleteFn:null},n.componentDidMount=function(){J.getRidersFromUrl()||(window.location.hash="/".concat(n.state.riders.join(","),"/")),C().then(V).then((function(e){return n.setState({rides:e},(function(){var t=J.getSelectedRideFromUrl(e);t&&n.selectRide(t)}))}))},n.deleteRideFn=function(e){return function(){var t,r=n.state.rides;return(t=e,new Promise((function(e,n){D.delete({TableName:S,Key:{id:t.id}},(function(t,r){t?n(t):e()}))}))).then((function(){return new Promise((function(t){return n.setState({rides:r.filter((function(t){return t.id!==e.id}))},t)}))}))}},n.selectRide=function(e){J.updateRideHash(e);var t=n.state.rides,r=V(t,e),a=A(e.viewport),i=n.deleteRideFn(e);n.setState({selectedRide:e,rides:r,deleteFn:i,viewport:a})},n.setPath=function(e){var t={path:e,deleteFn:function(){return n.setPath([])}},r=n.state,a=r.rides,i=r.viewport;if(e.length){var o=$(e,i),c=[].concat(Object(l.a)(a.filter(T)),Object(l.a)(o));t.rides=V(c,o[0]),t.selectedRide=o[0]}else t.rides=a.filter(T),t.selectedRide={};return new Promise((function(e){return n.setState(t,e)}))},n.undoPath=function(){var e=n.state.path;n.setPath(e.slice(0,-1))},n.saveRide=function(e){var t=n.state,r=t.path,a=t.viewport,i=e.id===v,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:i?g()():e.id,viewport:a});return function(e){return new Promise((function(t,n){D.put({Item:e,TableName:S},(function(e,r){e?n("ride was not saved"):t()}))}))}(o).then(C).then((function(e){var t=Object(l.a)(e.filter(T));return!i&&r.length&&t.push($(r,a)[0]),V(t,o)})).then((function(e){n.setState({rides:e,selectedRide:o,deleteFn:n.deleteRideFn(o),path:i?[]:r,isSaveDialogOpen:!1})}))},n.addRider=function(e){var t=[].concat(Object(l.a)(n.state.riders),[e]);J.updateRidersHash(t),n.setState({riders:t})},n.removeRider=function(e){var t=n.state.riders.filter((function(t){return t!==e}));J.updateRidersHash(t),n.setState({riders:t})},n.toggleDrawer=function(e){return n.setState({isDrawerOpen:e})},n.toggleSaveDialog=function(e){return n.setState({isSaveDialogOpen:e})},n.toggleDeleteConfirm=function(e){return n.setState({isDeleteConfirmOpen:e})},n.setViewport=function(e){return n.setState({viewport:e})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.rides,n=e.riders,r=e.selectedRide,i=e.path,o=e.viewport,c=e.isDrawerOpen,s=e.isSaveDialogOpen,u=e.isDeleteConfirmOpen,d=e.deleteFn,p=t.filter((function(e){return n.map((function(t){return e.riders.includes(t)||!e.riders})).every((function(e){return e}))})),m=Object(l.a)(p.map(B)),f=!!i.length&&r&&r.id===v;return a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(X.a,null),a.a.createElement(fe,{isDrawerOpen:c,toggleDrawer:this.toggleDrawer,riders:n,addRider:this.addRider,removeRider:this.removeRider}),a.a.createElement(je,{isDrawerOpen:c,toggleDrawer:this.toggleDrawer},a.a.createElement(Le,{rides:p,riders:n,selectRide:this.selectRide,toggleSaveDialog:this.toggleSaveDialog,toggleDeleteConfirm:this.toggleDeleteConfirm})),a.a.createElement(Z,{isDrawerOpen:c},a.a.createElement(Me,{viewport:o,setViewport:this.setViewport,path:i,setPath:this.setPath,layers:m}),f&&a.a.createElement(Xe,{undoPath:this.undoPath,toggleSaveDialog:this.toggleSaveDialog,toggleDeleteConfirm:this.toggleDeleteConfirm})),a.a.createElement(ot,{open:s,toggle:this.toggleSaveDialog,ride:r,saveRide:this.saveRide}),a.a.createElement(ct,{open:u,toggle:this.toggleDeleteConfirm,deleteFn:d}))}}]),t}(a.a.Component);o.a.render(a.a.createElement(st,null),document.getElementById("root"))}},[[314,1,2]]]);
//# sourceMappingURL=main.59c77adf.chunk.js.map