(this.webpackJsonpcyclog=this.webpackJsonpcyclog||[]).push([[0],{124:function(e,t,n){e.exports=n.p+"static/media/nathan.ee2493ef.png"},125:function(e,t,n){e.exports=n.p+"static/media/sarah.24ca4f60.jpeg"},126:function(e,t,n){e.exports=n.p+"static/media/jesse.a82637d5.jpeg"},211:function(e,t){},216:function(e,t){},263:function(e,t,n){e.exports=n.p+"static/media/directions_bike_24px.64beea8c.svg"},315:function(e,t,n){e.exports=n(723)},320:function(e,t,n){},719:function(e,t){},723:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(33),o=n.n(i),c=(n(320),n(46)),l=n(77),s=n(258),u=n(259),d=n(278),p=n(260),m=n(279),f=n(261),g=n.n(f),h=(n(323),n(193)),b=[],O="pk.eyJ1IjoibmF0aGFua2lwcCIsImEiOiJjazNid2k3enIwN2QzM2Nucmp5b3NmaXY0In0.cMIErB8-bLVio-MGSeXlfg",v="NEW_ID",y={latitude:39,longitude:-97,zoom:3.25,transitionDuration:"auto",transitionInterpolator:new h.a},w={black:[0,0,0],red:[150,50,50],green:[50,150,50],blue:[50,50,150]},j=n(157),E=n.n(j);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}E.a.config.region="us-east-2",E.a.config.credentials=new E.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4"});var D=new E.a.DynamoDB.DocumentClient,S="cyclog";function C(){return new Promise((function(e,t){D.scan({TableName:S},(function(n,r){n?t("ride list cannot be retrieved"):e(r.Items.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{color:w.black})})))}))}))}var R=n(800),k=n(799),x=n(263),N=n.n(x);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){return new R.a({id:e.name,data:[{coordinates:e.path}],iconAtlas:N.a,iconMapping:{rider:{x:0,y:0,width:24,height:24,mask:!0}},getIcon:function(){return"rider"},getColor:function(){return e.color},getPosition:function(e){return e.coordinates},sizeMinPixels:28})}function B(e){var t,n=[(t=e,new k.a({id:t.id,data:[{path:t.path}],getColor:function(){return t.color},rounded:!0,widthMinPixels:2}))];if(e.isSelected){var r=F({},e,{name:"".concat(e.name,"-start"),color:w.green,path:e.path[0]});if(n.push(z(r)),e.path.length>1){var a=F({},e,{name:"".concat(e.name,"-end"),color:w.red,path:e.path[e.path.length-1]});n.push(z(a))}}return n}var L=n(27),H=n(276);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){return e.id!==v};function V(e){if(!e)return[];var t=[];return t.push(M({},e,{name:"".concat(e.name,"-start"),color:w.green,path:e.path[0]})),e.path.length>1&&t.push(M({},e,{name:"".concat(e.name,"-end"),color:w.red,path:e.path[e.path.length-1]})),t}var $=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){var n=e.id===t.id;return M({},e,{isSelected:n,riders:e.riders||"",icons:n?V(e):[],color:n?w.blue:w.black,milage:e.path.length>1?Object(H.a)(Object(L.e)(e.path),{units:"miles"}):0})}))},A=function(e,t){var n=[];return e.length&&(n=[{id:v,name:"\u2022 New ride \u2022",color:w.blue,path:e,viewport:t}]),n},G=function(e){var t=e.longitude,n=e.latitude,r=e.zoom;return M({},y,{longitude:t,latitude:n,zoom:r})},U=function(){return window.location.hash},J={getRidersFromUrl:function(){var e=U().match(/#\/([\w,]*)\//);return e&&e[1]&&e[1].split(",")},getSelectedRideFromUrl:function(e){return e.find((function(e){return U().match(new RegExp("/".concat(e.id,"$")))}))},updateRidersHash:function(e){return window.location.hash=U().replace(/\/[\w,]*\//,"/".concat(e.join(","),"/"))},updateRideHash:function(e){return window.location.hash=U().replace(/\/[\w\d-]*$/,"/".concat(e.id))}},X=n(795),_=n(11),K=n(268);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=Object(K.a)((function(e){return{drawerHeader:Y({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"space-between"}),content:{position:"relative",flexGrow:1,height:"100vh",padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},mainContent:{position:"absolute",top:0,right:0,bottom:0,left:0}}}));var Z=function(e){var t=e.isDrawerOpen,n=e.children,r=q();return a.a.createElement("main",{className:Object(_.a)(r.content,Object(c.a)({},r.contentShift,t))},a.a.createElement("div",{className:r.drawerHeader}),a.a.createElement("div",{className:r.mainContent},n))},ee=n(776),te=n(777),ne=n(778),re=n(779),ae=n(802),ie=n(140),oe=n(270),ce=n.n(oe),le=n(124),se=n.n(le),ue=n(125),de=n.n(ue),pe=n(126),me=n.n(pe),fe=Object(K.a)((function(e){return{appBar:{backgroundColor:"#323296",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(300,"px)"),marginLeft:300,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},hideForSmall:{"@media only screen and (max-width: 620px)":{display:"none"}},avatars:{display:"flex",alignItems:"flex-end",position:"absolute",right:e.spacing(2),"@media only screen and (max-width: 420px)":{right:e.spacing(1)}},avatar:{cursor:"pointer",marginRight:e.spacing(2),"@media only screen and (max-width: 420px)":{height:e.spacing(4),width:e.spacing(4),marginRight:e.spacing(1)}},inactive:{opacity:.25},menuButton:{marginRight:e.spacing(2)}}}));var ge=a.a.memo((function(e){var t=e.isDrawerOpen,n=e.toggleDrawer,r=e.riders,i=e.addRider,o=e.removeRider,l=fe();return Object(ee.a)("(max-width: 420px)"),a.a.createElement(te.a,{position:"fixed",className:Object(_.a)(l.appBar,Object(c.a)({},l.appBarShift,t))},a.a.createElement(ne.a,null,a.a.createElement(re.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return n(!0)},edge:"start",className:Object(_.a)(l.menuButton,t&&l.hide)},a.a.createElement(ce.a,null)),a.a.createElement(ie.a,{variant:"h6",noWrap:!0},"Sibling Cyclog"),a.a.createElement("div",{className:Object(_.a)(l.avatars,t&&l.hide)},[se.a,de.a,me.a].map((function(e){var n=e.replace(/^.*\/(\w+)..*$/,"$1"),c=!r.includes(n);return a.a.createElement(ae.a,{key:n,className:Object(_.a)(l.avatar,c&&l.inactive,t&&l.hideForSmall),src:e,onClick:function(){c?i(n):o(n)}})})))))})),he=n(803),be=n(780),Oe=n(271),ve=n.n(Oe);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=Object(K.a)((function(e){return{drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:we({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"space-between"})}}));var Ee=a.a.memo((function(e){var t=e.isDrawerOpen,n=e.toggleDrawer,r=e.children,i=je();return a.a.createElement(he.a,{className:i.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:i.drawerPaper}},a.a.createElement("div",{className:i.drawerHeader},a.a.createElement(ie.a,{variant:"h6",noWrap:!0},"Rides"),a.a.createElement(re.a,{onClick:function(){return n(!1)}},a.a.createElement(ve.a,null))),a.a.createElement(be.a,null),r)})),Pe=n(781),De=n(782),Se=n(783),Ce=n(798),Re=n(273),ke=n.n(Re),xe=n(190),Ne=n.n(xe),Ie=n(272),Fe=n.n(Ie),ze=n(784),Be=Object(K.a)((function(e){return{loadingRides:{padding:e.spacing(0,2)},bikeIcon:{minWidth:40},avatarGroup:{flexDirection:"column",marginTop:8,marginRight:8},avatar:{borderWidth:1,margin:"-6px 0 0 0",height:e.spacing(3),width:e.spacing(3)},rideName:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",paddingRight:40},actionIcons:{position:"absolute",right:8},actionIconButton:{marginLeft:8,padding:8}}})),Le=function(e){switch(e){case"sarah":return de.a;case"jesse":return me.a;case"nathan":return se.a;default:return}};var He=a.a.memo((function(e){var t=e.rides,n=(e.riders,e.selectRide),r=e.toggleSaveDialog,i=e.toggleDeleteConfirm,o=(e.children,Be());return a.a.createElement(Pe.a,null,!t.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement(De.a,null,a.a.createElement(Se.a,{primary:"Loading..."})),a.a.createElement("div",{className:o.loadingRides},a.a.createElement(ze.a,null))),t.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){var t=e.id,c=e.name,l=e.isSelected,s=e.milage,u=e.date,d=t===v,p=l&&!d,m=u?[u]:[];return m.push("".concat(s.toFixed(1),"mi")),m=m.join(" \u2022 "),a.a.createElement(De.a,{button:!0,key:c.concat(t),onClick:function(){return function(e){return n(e)}(e)},selected:l,disableTouchRipple:l},a.a.createElement(Ce.a,{className:o.avatarGroup},e.riders.split(",").map((function(e){return a.a.createElement(ae.a,{key:e,className:o.avatar,src:Le(e)})}))),a.a.createElement(Se.a,{className:o.rideName,primary:e.name,secondary:m}),d&&a.a.createElement(re.a,{size:"small",className:o.actionIcons,disabled:!0},a.a.createElement(Fe.a,{fontSize:"small"})),p&&a.a.createElement("div",{className:o.actionIcons},a.a.createElement(re.a,{className:o.actionIconButton,size:"small",onClick:function(e){e.stopPropagation(),r(!0)}},a.a.createElement(ke.a,{fontSize:"small"})),a.a.createElement(re.a,{className:o.actionIconButton,size:"small",onClick:function(e){e.stopPropagation(),i(!0)}},a.a.createElement(Ne.a,{fontSize:"small"}))))})))})),We=n(797);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Te=function(e){var t=e.viewport,n=e.setViewport,r=e.path,i=e.setPath,o=e.layers;return a.a.createElement(h.b,Object.assign({},t,{onClick:function(e){i([].concat(Object(l.a)(r),[e.lngLat])),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{longitude:e.lngLat[0],latitude:e.lngLat[1]}))},onViewportChange:n,mapboxApiAccessToken:O,mapStyle:"mapbox://styles/mapbox/outdoors-v11",height:"100%",width:"100%"}),a.a.createElement(We.a,{viewState:t,layers:o}))},Ve=n(786),$e=n(787),Ae=n(274),Ge=n.n(Ae),Ue=n(275),Je=n.n(Ue),Xe=Object(K.a)((function(e){return{card:{position:"absolute",bottom:e.spacing(3),right:"50%",transform:"translateX(50%)",width:200},cardContent:{display:"flex",justifyContent:"space-around",padding:e.spacing(1),"&:last-child":{paddingBottom:e.spacing(1)}},undo:{color:"#323296"},save:{color:"#329632"},delete:{color:"#963232"}}}));var _e=a.a.memo((function(e){var t=e.undoPath,n=e.toggleSaveDialog,r=e.toggleDeleteConfirm,i=Xe();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ve.a,{className:i.card},a.a.createElement($e.a,{className:i.cardContent},a.a.createElement(re.a,{"aria-label":"undo",className:i.undo,onClick:function(){return t()}},a.a.createElement(Ge.a,null)),a.a.createElement(re.a,{"aria-label":"save",className:i.save,onClick:function(){return n(!0)}},a.a.createElement(Je.a,null)),a.a.createElement(re.a,{"aria-label":"trash",className:i.delete,onClick:function(){return r(!0)}},a.a.createElement(Ne.a,null)))))})),Ke=n(160),Qe=n(793),Ye=n(796),qe=n(788),Ze=n(792),et=n(790),tt=n(791),nt=n(789),rt=n(794);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var it=Object(K.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},avatars:{display:"flex",justifyContent:"space-evenly"},avatar:{cursor:"pointer",margin:e.spacing(2)},inactive:{opacity:.25},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ot=function(e){return e&&e.split(",")||[]};var ct=a.a.memo((function(e){var t=e.open,n=e.toggle,i=e.ride,o=e.saveRide,s=Object(r.useState)(i.name||""),u=Object(Ke.a)(s,2),d=u[0],p=u[1],m=Object(r.useState)(ot(i.riders)),f=Object(Ke.a)(m,2),g=f[0],h=f[1],b=Object(r.useState)(i.date||""),O=Object(Ke.a)(b,2),v=O[0],y=O[1],w=Object(r.useState)(!1),j=Object(Ke.a)(w,2),E=j[0],P=j[1],D=it();Object(r.useEffect)((function(){h(ot(i.riders)),p(i.name),y(i.date)}),[i]);var S=function(){return n(!1)},C={name:i.id?"Update this ride":"Save your ride"};return a.a.createElement(qe.a,{open:t,onClose:S,"aria-labelledby":"form-dialog-title"},a.a.createElement(nt.a,{id:"form-dialog-title",style:{minWidth:300}},"Ride Details"),a.a.createElement(et.a,null,a.a.createElement(tt.a,null,C.name),a.a.createElement("div",{className:D.avatars},[se.a,de.a,me.a].map((function(e){var t=e.replace(/^.*\/(\w+)..*$/,"$1"),n=!g.includes(t);return a.a.createElement(ae.a,{key:t,className:Object(_.a)(D.avatar,n&&D.inactive),src:e,onClick:function(){n?function(e){h([].concat(Object(l.a)(g),[e]))}(t):function(e){h(g.filter((function(t){return t!==e})))}(t)}})}))),a.a.createElement(Ye.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,onChange:function(e){var t=e.target.value;return p(t)},value:d}),a.a.createElement(Ye.a,{margin:"dense",id:"date",label:"Date",type:"text",fullWidth:!0,onChange:function(e){var t=e.target.value;return y(t)},value:v})),a.a.createElement(Ze.a,null,a.a.createElement(Qe.a,{variant:"contained",color:"primary",onClick:S,disabled:E},"Cancel"),a.a.createElement("div",{className:D.wrapper},a.a.createElement(Qe.a,{variant:"contained",color:"primary",onClick:function(){P(!0);var e=g.sort((function(e,t){return e[1].localeCompare(t[1])})).join(",")||void 0;o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{riders:e,name:d,date:v})).finally((function(){P(!1)}))},disabled:E},"Save"),E&&a.a.createElement(rt.a,{className:D.buttonProgress,size:24}))))}));var lt=a.a.memo((function(e){var t=e.open,n=e.toggle,r=e.deleteFn,i=function(){n(!1)};return a.a.createElement(qe.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(nt.a,{id:"alert-dialog-title"},"Are you sure?"),a.a.createElement(et.a,null,a.a.createElement(tt.a,{id:"alert-dialog-description"},"Deleting a ride is permanent and irreversible.")),a.a.createElement(Ze.a,null,a.a.createElement(Qe.a,{onClick:i,variant:"contained",color:"primary"},"Keep my Ride"),a.a.createElement(Qe.a,{onClick:function(){r().then(i)},variant:"contained",color:"secondary"},"Delete Forever")))}));function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ut=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={rides:[],riders:J.getRidersFromUrl()||b,selectedRide:{},path:[],viewport:y,isDrawerOpen:!0,isSaveDialogOpen:!1,isDeleteConfirmOpen:!1,deleteFn:null},n.componentDidMount=function(){C().then($).then((function(e){return n.setState({rides:e},(function(){var t=J.getSelectedRideFromUrl(e);t&&n.selectRide(t)}))}))},n.deleteRideFn=function(e){return function(){var t,r=n.state.rides;return(t=e,new Promise((function(e,n){D.delete({TableName:S,Key:{id:t.id}},(function(t,r){t?n(t):e()}))}))).then((function(){return new Promise((function(t){return n.setState({rides:r.filter((function(t){return t.id!==e.id}))},t)}))}))}},n.selectRide=function(e){J.updateRideHash(e);var t=n.state.rides,r=$(t,e),a=G(e.viewport),i=n.deleteRideFn(e);n.setState({selectedRide:e,rides:r,deleteFn:i,viewport:a})},n.setPath=function(e){var t={path:e,deleteFn:function(){return n.setPath([])}},r=n.state,a=r.rides,i=r.viewport;if(e.length){var o=A(e,i),c=[].concat(Object(l.a)(a.filter(T)),Object(l.a)(o));t.rides=$(c,o[0]),t.selectedRide=o[0]}else t.rides=a.filter(T),t.selectedRide={};return new Promise((function(e){return n.setState(t,e)}))},n.undoPath=function(){var e=n.state.path;n.setPath(e.slice(0,-1))},n.saveRide=function(e){var t=n.state,r=t.path,a=t.viewport,i=e.id===v,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:i?g()():e.id,viewport:a});return function(e){return new Promise((function(t,n){D.put({Item:e,TableName:S},(function(e,r){e?n("ride was not saved"):t()}))}))}(o).then(C).then((function(e){var t=Object(l.a)(e.filter(T));return!i&&r.length&&t.push(A(r,a)[0]),$(t,o)})).then((function(e){n.setState({rides:e,selectedRide:o,deleteFn:n.deleteRideFn(o),path:i?[]:r,isSaveDialogOpen:!1})}))},n.addRider=function(e){var t=[].concat(Object(l.a)(n.state.riders),[e]);J.updateRidersHash(t),n.setState({riders:t})},n.removeRider=function(e){var t=n.state.riders.filter((function(t){return t!==e}));J.updateRidersHash(t),n.setState({riders:t})},n.toggleDrawer=function(e){return n.setState({isDrawerOpen:e})},n.toggleSaveDialog=function(e){return n.setState({isSaveDialogOpen:e})},n.toggleDeleteConfirm=function(e){return n.setState({isDeleteConfirmOpen:e})},n.setViewport=function(e){return n.setState({viewport:e})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.rides,n=e.riders,r=e.selectedRide,i=e.path,o=e.viewport,c=e.isDrawerOpen,s=e.isSaveDialogOpen,u=e.isDeleteConfirmOpen,d=e.deleteFn,p=t.filter((function(e){return n.map((function(t){return e.riders.includes(t)||!e.riders})).every((function(e){return e}))})),m=Object(l.a)(p.map(B)),f=!!i.length&&r&&r.id===v;return a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(X.a,null),a.a.createElement(ge,{isDrawerOpen:c,toggleDrawer:this.toggleDrawer,riders:n,addRider:this.addRider,removeRider:this.removeRider}),a.a.createElement(Ee,{isDrawerOpen:c,toggleDrawer:this.toggleDrawer},a.a.createElement(He,{rides:p,riders:n,selectRide:this.selectRide,toggleSaveDialog:this.toggleSaveDialog,toggleDeleteConfirm:this.toggleDeleteConfirm})),a.a.createElement(Z,{isDrawerOpen:c},a.a.createElement(Te,{viewport:o,setViewport:this.setViewport,path:i,setPath:this.setPath,layers:m}),f&&a.a.createElement(_e,{undoPath:this.undoPath,toggleSaveDialog:this.toggleSaveDialog,toggleDeleteConfirm:this.toggleDeleteConfirm})),a.a.createElement(ct,{open:s,toggle:this.toggleSaveDialog,ride:r,saveRide:this.saveRide}),a.a.createElement(lt,{open:u,toggle:this.toggleDeleteConfirm,deleteFn:d}))}}]),t}(a.a.Component);o.a.render(a.a.createElement(ut,null),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.c37cbe66.chunk.js.map