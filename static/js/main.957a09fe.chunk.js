(this.webpackJsonpcyclog=this.webpackJsonpcyclog||[]).push([[0],{142:function(e,t){},193:function(e,t){},281:function(e,t,n){},692:function(e,t){},706:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(38),c=n.n(r),o=(n(281),n(91)),s=n(48),l=n(21),d=n(2),u=n(4),j=n(5),p=n(18),h=n(19),g=n(785),b=(n(282),"pk.eyJ1IjoibmF0aGFua2lwcCIsImEiOiJjazNid2k3enIwN2QzM2Nucmp5b3NmaXY0In0.cMIErB8-bLVio-MGSeXlfg"),m=300,f="NEW_ID",O=window.innerWidth<500,v={latitude:39,longitude:-97,zoom:O?2.25:3.25},x={black:[0,0,0],red:[150,50,50],green:[50,150,50],blue:[50,50,150],yellow:[255,255,0],gray:[200,200,200]},w=n(140),y=n.n(w);y.a.config.region="us-east-2",y.a.config.credentials=new y.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4"});var S=new y.a.DynamoDB.DocumentClient,C="cyclog";function D(){return new Promise((function(e,t){S.scan({TableName:C},(function(n,a){n?t("ride list cannot be retrieved"):e(a.Items.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{color:x.black})})))}))}))}function N(e){return new Promise((function(t,n){S.put({Item:e,TableName:C},(function(e,a){e?n("ride was not saved"):t()}))}))}function R(e){return new Promise((function(t,n){S.delete({TableName:C,Key:{id:e.id}},(function(e,a){e?n(e):t()}))}))}var I=n(786),k=n(782),P=n.p+"static/media/directions_bike_24px.53835df2.svg";function F(e){return new I.a({id:e.name,data:[{coordinates:e.path}],iconAtlas:P,iconMapping:{rider:{x:0,y:0,width:24,height:24,mask:!0}},getIcon:function(){return"rider"},getColor:function(){return e.color},getPosition:function(e){return e.coordinates},sizeMinPixels:28})}function z(e){var t,n=[(t=e,new k.a({id:t.id,data:[{path:t.path}],getColor:function(){return t.color},rounded:!0,widthMinPixels:2}))];if(e.isSelected){var a=Object(d.a)(Object(d.a)({},e),{},{name:"".concat(e.name,"-start"),color:x.green,path:e.path[0]});if(n.push(F(a)),e.path.length>1){var i=Object(d.a)(Object(d.a)({},e),{},{name:"".concat(e.name,"-end"),color:x.red,path:e.path[e.path.length-1]});n.push(F(i))}}return n}var A=n(37),B=n(250),L=function(e){return e.id!==f};function W(e){if(!e)return[];var t=[];return t.push(Object(d.a)(Object(d.a)({},e),{},{name:"".concat(e.name,"-start"),color:x.green,path:e.path[0]})),e.path.length>1&&t.push(Object(d.a)(Object(d.a)({},e),{},{name:"".concat(e.name,"-end"),color:x.red,path:e.path[e.path.length-1]})),t}var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){var n=e.id===t.id;return Object(d.a)(Object(d.a)({},e),{},{isSelected:n,riders:e.riders||"",icons:n?W(e):[],color:n?x.blue:x.gray,milage:e.path.length>1?Object(B.a)(Object(A.e)(e.path),{units:"miles"}):0})}))},G=function(e,t){var n=[];return e.length&&(n=[{id:f,name:"\u2022 New ride \u2022",color:x.blue,path:e,viewport:t}]),n},M=function(e){var t=e.longitude,n=e.latitude,a=e.zoom;return Object(d.a)(Object(d.a)({},v),{},{longitude:t,latitude:n,zoom:a})},E=function(){return window.location.hash},H={getRidersFromUrl:function(e){var t=e.params.riders;return t&&t.split(",")},getSelectedRideFromUrl:function(e){return e.find((function(e){return E().match(new RegExp("/".concat(e.id,"$")))}))},updateRidersHash:function(e){var t,n=e.join(",");t=E()?E().replace(/#\/[\w,]*\//,"/".concat(n,"/")):"/".concat(n,"/"),window.location.hash=t},updateRideHash:function(e){return window.location.hash=E().replace(/\/[\w\d-]*$/,"/".concat(e.id))}},V=n(777),$=n(1),J=n(11),U=n(757),X=n(9),_=Object(U.a)((function(e){return{drawerHeader:Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"}),content:{position:"relative",flexGrow:1,height:"100vh",padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},mainContent:{position:"absolute",top:0,right:0,bottom:0,left:0}}}));var K=function(e){var t=e.isDrawerOpen,n=e.children,a=_();return Object(X.jsxs)("main",{className:Object(J.a)(a.content,Object($.a)({},a.contentShift,t)),children:[Object(X.jsx)("div",{className:a.drawerHeader}),Object(X.jsx)("div",{className:a.mainContent,children:n})]})},Y=n(759),Q=n(761),q=n(762),Z=n(789),ee=n(128),te=n(240),ne=n.n(te),ae=n.p+"static/media/nathan.9853d902.png",ie=n.p+"static/media/sarah.ea13e7a6.jpeg",re=n.p+"static/media/jesse.cb0a2a1a.jpeg",ce=Object(U.a)((function(e){return{appBar:{backgroundColor:"#323296",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(m,"px)"),marginLeft:m,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},hideForSmall:{"@media only screen and (max-width: 620px)":{display:"none"}},avatars:{display:"flex",alignItems:"flex-end",position:"absolute",right:e.spacing(2),"@media only screen and (max-width: 420px)":{right:e.spacing(1)}},avatar:{marginRight:e.spacing(2),"@media only screen and (max-width: 420px)":{height:e.spacing(4),width:e.spacing(4),marginRight:e.spacing(1)}},inactive:{opacity:.25},menuButton:{marginRight:e.spacing(2)}}}));function oe(e){var t=e.match,n=e.isDrawerOpen,a=e.toggleDrawer,i=(e.addRider,e.removeRider,ce()),r=t.params,c=r.riders,s=r.rideId;return Object(X.jsx)(Y.a,{position:"fixed",className:Object(J.a)(i.appBar,Object($.a)({},i.appBarShift,n)),children:Object(X.jsxs)(Q.a,{children:[Object(X.jsx)(q.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return a(!0)},edge:"start",className:Object(J.a)(i.menuButton,n&&i.hide),children:Object(X.jsx)(ne.a,{})}),Object(X.jsx)(ee.a,{variant:"h6",noWrap:!0,children:"jessecoconut"===c?"Jesse Coconut's Cyclog":"Sibling Cyclog"}),Object(X.jsxs)("div",{className:Object(J.a)(i.avatars,n&&i.hide),children:["jessecoconut"===c&&Object(X.jsx)(Z.a,{className:i.avatar,src:re}),"jessecoconut"!==c&&[ae,ie,re].map((function(e){var t=e.replace(/^.*\/(\w+)..*$/,"$1"),a=function(e){return!c.includes(e)}(t),r=function(){return Object(X.jsx)(Z.a,{className:Object(J.a)(i.avatar,a&&i.inactive,n&&i.hideForSmall),src:e})};if(a){var l="".concat(c.concat(",".concat(t)));return Object(X.jsx)(o.b,{to:"/".concat(l).concat(s?"/".concat(s):""),children:Object(X.jsx)(r,{})},t)}if(c.includes(",")){var d=c.split(",").filter((function(e){return e!==t})).join(",");return Object(X.jsx)(o.b,{to:"/".concat(d).concat(s?"/".concat(s):""),children:Object(X.jsx)(r,{})},t)}return Object(X.jsx)(r,{},t)}))]})]})})}var se=Object(s.g)(i.a.memo(oe)),le=n(790),de=n(763),ue=n(241),je=n.n(ue),pe=Object(U.a)((function(e){return{drawer:{width:m,flexShrink:0},drawerPaper:{width:m},drawerHeader:Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"})}}));function he(e){var t=e.isDrawerOpen,n=e.toggleDrawer,a=e.children,i=pe();return Object(X.jsxs)(le.a,{className:i.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:i.drawerPaper},children:[Object(X.jsxs)("div",{className:i.drawerHeader,children:[Object(X.jsx)(ee.a,{variant:"h6",noWrap:!0,children:"Rides"}),Object(X.jsx)(q.a,{onClick:function(){return n(!1)},children:Object(X.jsx)(je.a,{})})]}),Object(X.jsx)(de.a,{}),a]})}var ge=i.a.memo(he),be=n(764),me=n(765),fe=n(787),Oe=Object(U.a)((function(e){return{card:{paddingLeft:e.spacing(5),position:"absolute",top:e.spacing(10),right:"50%",transform:"translateX(50%)"},cardContent:{"&:last-child":{paddingBottom:e.spacing(1)},display:"flex",justifyContent:"space-around"},avatarGroup:{position:"absolute",left:e.spacing(1),top:"50%",transform:"translateY(-50%)",flexDirection:"column",marginTop:4,marginLeft:8},avatar:{borderWidth:1,margin:"-6px 0 0 0",height:e.spacing(3),width:e.spacing(3)}}})),ve=function(e){switch(e){case"sarah":return ie;case"jesse":return re;case"nathan":return ae;default:return}};var xe=function(e){var t=e.ride,n=Oe(),a=t.date,i=t.milage,r=void 0===i?0:i,c=t.name,o=t.riders,s=void 0===o?"":o,l=a?[a]:[];return void 0!==r&&l.push("".concat(r.toFixed(1),"mi")),l=l.join(" \u2022 "),Object(X.jsx)(be.a,{className:n.card,children:Object(X.jsxs)(me.a,{className:n.cardContent,children:[Object(X.jsx)(fe.a,{className:n.avatarGroup,children:s.split(",").map((function(e){return Object(X.jsx)(Z.a,{className:n.avatar,src:ve(e)},e)}))}),Object(X.jsxs)("div",{children:[Object(X.jsx)(ee.a,{variant:"h6",children:c}),Object(X.jsx)(ee.a,{variant:"subtitle1",children:l})]})]})})},we=n(766),ye=n(767),Se=n(768),Ce=n(243),De=n.n(Ce),Ne=n(170),Re=n.n(Ne),Ie=n(242),ke=n.n(Ie),Pe=n(769),Fe=Object(U.a)((function(e){return{root:{"& a":{color:"black",textDecoration:"none"}},loadingRides:{padding:e.spacing(0,2)},bikeIcon:{minWidth:40},avatarGroup:{flexDirection:"column",marginTop:8,marginRight:8},avatar:{borderWidth:1,margin:"-6px 0 0 0",height:e.spacing(3),width:e.spacing(3)},rideName:{"& span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},paddingRight:"0 10px 0 0"},selected:{paddingRight:75},actionIcons:{position:"absolute",right:8,zIndex:10},actionIconButton:{marginLeft:8,padding:8}}})),ze=function(e){switch(e){case"sarah":return ie;case"jesse":case"jessecoconut":return re;case"nathan":return ae;default:return}};function Ae(e){var t=e.match,n=e.rides,a=e.selectRide,i=e.toggleShowAll,r=e.toggleSaveDialog,c=e.toggleDeleteConfirm,s=(e.children,Fe()),l=t.params.riders,d=!!window.sessionStorage.getItem("cyclog"),u=function(e){return a(e)};return Object(X.jsxs)(we.a,{className:s.root,children:[n.length?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ye.a,{button:!0,onClick:function(){return i()},children:"Toggle ride highlighting"}),Object(X.jsx)(o.b,{to:"/".concat(l),children:Object(X.jsx)(ye.a,{button:!0,onClick:function(){return u(null)},children:"Reset map"})})]}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ye.a,{children:Object(X.jsx)(Se.a,{primary:"Loading..."})}),Object(X.jsx)("div",{className:s.loadingRides,children:Object(X.jsx)(Pe.a,{})})]}),n.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){var t=e.id,n=e.name,a=e.isSelected,i=e.milage,j=e.date,p=t===f,h=d&&a&&!p,g=j?[j]:[];return g.push("".concat(i.toFixed(1),"mi")),g=g.join(" \u2022 "),Object(X.jsx)(o.b,{to:"/".concat(l,"/").concat(t),children:Object(X.jsxs)(ye.a,{button:!0,onClick:function(){return u(e)},selected:a,disableTouchRipple:a,children:["jessecoconut"!==l&&Object(X.jsx)(fe.a,{className:s.avatarGroup,children:e.riders.split(",").map((function(e){return Object(X.jsx)(Z.a,{className:s.avatar,src:ze(e)},e)}))}),Object(X.jsx)(Se.a,{className:Object(J.a)(s.rideName,h&&s.selected),primary:e.name,secondary:g}),p&&Object(X.jsx)(q.a,{size:"small",className:s.actionIcons,disabled:!0,children:Object(X.jsx)(ke.a,{fontSize:"small"})}),h&&Object(X.jsxs)("div",{className:s.actionIcons,children:[Object(X.jsx)(q.a,{className:s.actionIconButton,size:"small",color:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation(),r(!0)},children:Object(X.jsx)(De.a,{fontSize:"small"})}),Object(X.jsx)(q.a,{className:s.actionIconButton,color:"secondary",size:"small",onClick:function(e){e.preventDefault(),e.stopPropagation(),c(!0)},children:Object(X.jsx)(Re.a,{fontSize:"small"})})]})]})},n.concat(t))}))]})}var Be=Object(s.g)(i.a.memo(Ae)),Le=n(247),We=n(778),Te=function(e){var t=e.viewport,n=e.setViewport,a=e.path,i=e.setPath,r=e.layers;return Object(X.jsx)(Le.a,Object(d.a)(Object(d.a)({},t),{},{onClick:function(e){i([].concat(Object(l.a)(a),[e.lngLat])),n(Object(d.a)(Object(d.a)({},t),{},{longitude:e.lngLat[0],latitude:e.lngLat[1]}))},onViewportChange:n,mapboxApiAccessToken:b,mapStyle:"mapbox://styles/mapbox/outdoors-v11",height:"100%",width:"100%",children:Object(X.jsx)(We.a,{viewState:t,layers:r})}))},Ge=n(245),Me=n.n(Ge),Ee=n(246),He=n.n(Ee),Ve=Object(U.a)((function(e){return{card:{position:"absolute",bottom:e.spacing(3),right:"50%",transform:"translateX(50%)",width:200},cardContent:{display:"flex",justifyContent:"space-around",padding:e.spacing(1),"&:last-child":{paddingBottom:e.spacing(1)}},undo:{color:"#323296"},save:{color:"#329632"},delete:{color:"#963232"}}}));function $e(e){var t=e.undoPath,n=e.toggleSaveDialog,a=e.toggleDeleteConfirm,i=Ve();return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(be.a,{className:i.card,children:Object(X.jsxs)(me.a,{className:i.cardContent,children:[Object(X.jsx)(q.a,{"aria-label":"undo",className:i.undo,onClick:function(){return t()},children:Object(X.jsx)(Me.a,{})}),Object(X.jsx)(q.a,{"aria-label":"save",className:i.save,onClick:function(){return n(!0)},children:Object(X.jsx)(He.a,{})}),Object(X.jsx)(q.a,{"aria-label":"trash",className:i.delete,onClick:function(){return a(!0)},children:Object(X.jsx)(Re.a,{})})]})})})}var Je=i.a.memo($e),Ue=n(20),Xe=n(775),_e=n(781),Ke=n(770),Ye=n(774),Qe=n(772),qe=n(773),Ze=n(771),et=n(776),tt=Object(U.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},avatars:{display:"flex",justifyContent:"space-evenly"},avatar:{cursor:"pointer",margin:e.spacing(2)},inactive:{opacity:.25},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),nt=function(e){return e&&e.split(",")||[]};function at(e){var t=e.open,n=e.toggle,i=e.ride,r=e.saveRide,c=Object(a.useState)(i.name||""),o=Object(Ue.a)(c,2),s=o[0],u=o[1],j=Object(a.useState)(nt(i.riders)),p=Object(Ue.a)(j,2),h=p[0],g=p[1],b=Object(a.useState)(i.date||""),m=Object(Ue.a)(b,2),f=m[0],O=m[1],v=Object(a.useState)(!1),x=Object(Ue.a)(v,2),w=x[0],y=x[1],S=tt();Object(a.useEffect)((function(){g(nt(i.riders)),u(i.name),O(i.date)}),[i]);var C=function(){return n(!1)},D={name:i.id?"Update this ride":"Save your ride"};return Object(X.jsxs)(Ke.a,{open:t,onClose:C,"aria-labelledby":"form-dialog-title",children:[Object(X.jsx)(Ze.a,{id:"form-dialog-title",style:{minWidth:300},children:"Ride Details"}),Object(X.jsxs)(Qe.a,{children:[Object(X.jsx)(qe.a,{children:D.name}),Object(X.jsx)("div",{className:S.avatars,children:[ae,ie,re].map((function(e){var t=e.replace(/^.*\/(\w+)..*$/,"$1"),n=!h.includes(t);return Object(X.jsx)(Z.a,{className:Object(J.a)(S.avatar,n&&S.inactive),src:e,onClick:function(){n?function(e){g([].concat(Object(l.a)(h),[e]))}(t):function(e){g(h.filter((function(t){return t!==e})))}(t)}},t)}))}),Object(X.jsx)(_e.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,onChange:function(e){var t=e.target.value;return u(t)},value:s}),Object(X.jsx)(_e.a,{margin:"dense",id:"date",label:"Date",type:"text",fullWidth:!0,onChange:function(e){var t=e.target.value;return O(t)},value:f})]}),Object(X.jsxs)(Ye.a,{children:[Object(X.jsx)(Xe.a,{variant:"contained",color:"primary",onClick:C,disabled:w,children:"Cancel"}),Object(X.jsxs)("div",{className:S.wrapper,children:[Object(X.jsx)(Xe.a,{variant:"contained",color:"primary",onClick:function(){y(!0);var e=h.sort((function(e,t){return e[1].localeCompare(t[1])})).join(",")||void 0;r(Object(d.a)(Object(d.a)({},i),{},{riders:e,name:s,date:f})).finally((function(){y(!1)}))},disabled:w,children:"Save"}),w&&Object(X.jsx)(et.a,{className:S.buttonProgress,size:24})]})]})]})}var it=i.a.memo(at);function rt(e){var t=e.open,n=e.toggle,a=e.deleteFn,i=function(){n(!1)};return Object(X.jsxs)(Ke.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(X.jsx)(Ze.a,{id:"alert-dialog-title",children:"Are you sure?"}),Object(X.jsx)(Qe.a,{children:Object(X.jsx)(qe.a,{id:"alert-dialog-description",children:"Deleting a ride is permanent and irreversible."})}),Object(X.jsxs)(Ye.a,{children:[Object(X.jsx)(Xe.a,{onClick:i,variant:"contained",color:"primary",children:"Keep my Ride"}),Object(X.jsx)(Xe.a,{onClick:function(){a().then(i)},variant:"contained",color:"secondary",children:"Delete Forever"})]})]})}var ct=i.a.memo(rt),ot=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={rides:[],riders:H.getRidersFromUrl(e.props.match),selectedRide:{},path:[],viewport:v,isShowAll:!1,isDrawerOpen:!O,isSaveDialogOpen:!1,isDeleteConfirmOpen:!1,deleteFn:null},e.componentDidMount=function(){var t=e.props.match.params.rideId;D().then(T).then((function(n){return e.setState({rides:n},(function(){var a=n.find((function(e){return e.id===t}));a&&e.selectRide(a)}))}))},e.deleteRideFn=function(t){return function(){var n=e.state.rides;return R(t).then((function(){return new Promise((function(a){return e.setState({rides:n.filter((function(e){return e.id!==t.id})),selectedRide:{}},a)}))}))}},e.selectRide=function(t){if(t){var n=e.state,a=n.rides,i=n.isDrawerOpen,r=T(a,t),c=t.viewport.zoom,o=Object(d.a)(Object(d.a)({},t.viewport),{},{zoom:O?c-1:c}),s=M(o),l=e.deleteRideFn(t);e.setState({isShowAll:!1,selectedRide:t,rides:r,deleteFn:l,viewport:s,isDrawerOpen:!O&&i})}else e.setState({viewport:M(v)})},e.setPath=function(t){var n={path:t,deleteFn:function(){return e.setPath([])}},a=e.state,i=a.rides,r=a.viewport;if(t.length){var c=G(t,r),o=[].concat(Object(l.a)(i.filter(L)),Object(l.a)(c));n.rides=T(o,c[0]),n.selectedRide=n.rides.find((function(e){return e.isSelected}))}else n.rides=i.filter(L),n.selectedRide={};return new Promise((function(t){return e.setState(n,t)}))},e.undoPath=function(){var t=e.state.path;e.setPath(t.slice(0,-1))},e.saveRide=function(t){var n=e.state,a=n.path,i=n.viewport,r=t.id===f,c=r?Object(g.a)():t.id,o=Object(d.a)(Object(d.a)({},t),{},{id:c,viewport:i});return N(o).then(D).then((function(e){var t=Object(l.a)(e.filter(L));return!r&&a.length&&t.push(G(a,i)[0]),T(t,o)})).then((function(t){e.setState({rides:t,selectedRide:o,deleteFn:e.deleteRideFn(o),path:r?[]:a,isSaveDialogOpen:!1})}))},e.toggleShowAll=function(){return e.setState({isShowAll:!e.state.isShowAll})},e.toggleDrawer=function(t){return e.setState({isDrawerOpen:t})},e.toggleSaveDialog=function(t){return e.setState({isSaveDialogOpen:t})},e.toggleDeleteConfirm=function(t){return e.setState({isDeleteConfirmOpen:t})},e.setViewport=function(t){return e.setState({viewport:t})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.rides,n=e.selectedRide,a=e.path,i=e.viewport,r=e.isShowAll,c=e.isDrawerOpen,o=e.isSaveDialogOpen,s=e.isDeleteConfirmOpen,u=e.deleteFn,j=this.props.match.params.riders,p=function(e,t,n){return r?x.blue:e.length&&t.id!==n.id?x.gray:t.color},h=t.filter((function(e){return j.split(",").map((function(t){return"jessecoconut"===t?"jesse"===e.riders||!e.riders:e.riders.includes(t)||!e.riders})).every((function(e){return e}))})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{color:p(a,e,n)})})).sort((function(e,t){return+(e.id===n.id)-+(t.id===n.id)})),g=Object(l.a)(h.map(z)),b=!!a.length&&n&&n.id===f;return Object(X.jsxs)("div",{style:{display:"flex"},children:[Object(X.jsx)(V.a,{}),Object(X.jsx)(se,{isDrawerOpen:c,toggleDrawer:this.toggleDrawer,riders:j,addRider:this.addRider,removeRider:this.removeRider}),Object(X.jsx)(ge,{isDrawerOpen:c,toggleDrawer:this.toggleDrawer,children:Object(X.jsx)(Be,{rides:h,selectRide:this.selectRide,toggleShowAll:this.toggleShowAll,toggleSaveDialog:this.toggleSaveDialog,toggleDeleteConfirm:this.toggleDeleteConfirm})}),Object(X.jsxs)(K,{isDrawerOpen:c,children:[Object(X.jsx)(Te,{viewport:i,setViewport:this.setViewport,path:a,setPath:this.setPath,layers:g}),n.id&&Object(X.jsx)(xe,{ride:n}),b&&Object(X.jsx)(Je,{undoPath:this.undoPath,toggleSaveDialog:this.toggleSaveDialog,toggleDeleteConfirm:this.toggleDeleteConfirm})]}),Object(X.jsx)(it,{open:o,toggle:this.toggleSaveDialog,ride:n,saveRide:this.saveRide}),Object(X.jsx)(ct,{open:s,toggle:this.toggleDeleteConfirm,deleteFn:u})]})}}]),n}(i.a.Component),st=Object(s.g)(ot);c.a.render(Object(X.jsx)(o.a,{children:Object(X.jsxs)(s.d,{children:[Object(X.jsx)(s.b,{path:"/admin",render:function(){return window.sessionStorage.setItem("cyclog",!0),Object(X.jsx)(s.a,{to:"/nathan,sarah,jesse"})}}),Object(X.jsx)(s.b,{path:"/:riders([nathan|sarah|jesse|,]+)/:rideId?",component:st}),Object(X.jsx)(s.b,{path:"/:riders(jessecoconut)/:rideId?",component:st}),Object(X.jsx)(s.b,{render:function(){return Object(X.jsx)(s.a,{to:"/nathan,sarah,jesse"})}})]})}),document.getElementById("root"))}},[[706,1,2]]]);
//# sourceMappingURL=main.957a09fe.chunk.js.map